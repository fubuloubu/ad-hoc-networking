%% Code listings
\usepackage{minted}
\usepackage{listings}
\usepackage{caption}

%TODO: Listings float off page
%TODO: Listing caption should be on top
\newcommand{\simcode}[3]{
    \begin{listing}[H]
        \caption{#1}
        \inputminted[
            fontfamily=tt,
            fontsize=\scriptsize,
            linenos=true,
            frame=leftline,
            framesep=2mm,
            breaklines=true,
        ]{python}{#2}
        \label{#3}
    \end{listing}
}

% This will allow us to use file names with
% underscores in below
\AtBeginDocument{
    \catcode`_=12
    \begingroup\lccode`~=`_
    \lowercase{\endgroup\let~}\sb
    \mathcode`_="8000
}
